{% extends "fitness_test_base.html" %}

{% block content_fitness_testing_base  %}
<form method="POST" enctype="multipart/form-data" action="{{ post_to_url }}" class="form-horizontal">
    {% csrf_token %}
    {% if form %}
        {% if form.student_detail_fields %}
            <hr>
            <h4>Student Details</h4>
            <hr>
            {% for field in form.student_detail_fields %}
                <div class="form-group {% if field.errors %}has-error has-feedback{% endif %}">
                    <div class="col-sm-1"><label for="{{ field.name }}">{{ field.label }}:</label></div>
                    <div class="col-sm-11">
                        {% if field.input_type %}
                            <input type="{{ field.input_type }}" id="{{ field.name }}" name="{{ field.name }}"
                                    {% if field.value %}value="{{ field.value }}"{% endif %}
                                    {% if field.place_holder %}placeholder="{{ field.place_holder }}"{% endif %}>
                            {% if field.help_text %}<span class="form-field-help">{{ field.help_text }}</span>{% endif %}
                            {% if field.errors %}<span class="help-block">{{ field.errors }}</span>{% endif %}
                        {% elif field.choices %}
                            <select id="{{ field.name }}" name="{{ field.name }}">
                                {% for value, option_label, selected in field.choices %}
                                    <option value="{{ value }}" {% if selected %}selected{% endif %}>
                                        {{ option_label }}
                                    </option>
                                {% endfor %}
                            </select>
                        {% endif %}
                    </div>
                </div>
            {% endfor %}
        {% endif %}
        {% if form.test_result_fields %}
            <hr>
            <h4>Results</h4>
            <hr>
            {% for field in form.test_result_fields %}
                <div class="form-group {% if field.errors %}has-error has-feedback{% endif %}">
                    <div class="col-sm-1"><label for="{{ field.name }}">{{ field.label }}:</label></div>
                    <div class="col-sm-11">
                        <input type="text" id="{{ field.name }}" name="{{ field.name }}"
                                {% if field.value %}value="{{ field.value }}"{% endif %}
                                {% if field.place_holder %}placeholder="{{ field.place_holder }}"{% endif %}>
                        {% if field.help_text %}<span class="form-field-help">{{ field.help_text }}</span>{% endif %}
                        {% if field.errors %}<span class="help-block">{{ field.errors }}</span>{% endif %}
                    </div>
                </div>
            {% endfor %}
        {% endif %}
        <input type="submit" class="btn btn-default" name='results_cancel_button' value="Cancel">
        <input type="submit" class="btn btn-primary" name='results_save_button' value="Save Results">
    {% else %}
        <div class="h1">
            {{ user_message }}
        </div>
        <input type="submit" class="btn btn-primary" name='results_done_button' value="Done">
    {% endif %}
</form>
{% endblock %}